## CRÃ‰ATION DE DEUX PROCEDURES.

 > ***ressources/+procedure_rvd.sql***
 > - +2 procedures stockÃ©s (non-testÃ©es)
 >>Servents pour la liste des livre permit pour un usager et pour recevoir les sauvegardes d'un usager.

 Code:

 ```sql
 use python_book_hero;
 ### NON-TESTÃ‰ RVÃ 06-11-2021

DELIMITER ;;
DROP PROCEDURE IF EXIST liste_livres_usager;
DELIMITER //
CREATE PROCEDURE liste_livres_usager(IN usager_id DATE, INOUT resultat)
BEGIN

	set resultat = (SELECT titre,auteur FROM permission_livres_usagers 
        INNER JOIN livres ON id_livre = livre(id) 
        WHERE id_usager = usager_id);

END //
DELIMITER ;;
#test
CALL liste_livres_usager(1);

DROP PROCEDURE IF EXIST liste_sauvgardes_usager;
DELIMITER //
CREATE PROCEDURE liste_sauvgardes_usager(IN usager_id DATE, INOUT resultat)
BEGIN

	set resultat = (SELECT date_partie, page, numero, titre FROM sauvegarde_parties 
        INNER JOIN chapitres_livres ON id_chapitre = chapitres_livres(id)
        INNER JOIN livres ON id_livre = livres(id) 
        WHERE id_usager = usager_id);

    # ajouter un check usager dÃ©tient permission sur livre

END //
DELIMITER ;;
#test
CALL liste_sauvgardes_usager(1);

 ```

### Infos suplÃ©mentaires
> **Modifications**
>- UML +champs date_partie()


ğŸ‘¨â€ğŸ’» 2021-06-11 RVÃ ğŸ‘¨â€ğŸ’»